<link rel="import" href="../polymer/polymer-element.html">
<link rel="import" href="../paper-icon-button/paper-icon-button.html">
<link rel="import" href="../paper-styles/shadow.html">
<dom-module id="owc-core-navigation-panel">
    <template>
        <style>
          :host{
            display: inline-block;
            position: relative;
            min-width: 150px;
            height: calc(100% - 15px) !important;
            width: var(--host-width, 200px);
            margin:5px;
            -webkit-transition: opacity 1s ease-in-out;
            -moz-transition: opacity 1s ease-in-out;
            -ms-transition: opacity 1s ease-in-out;
            -o-transition: opacity 1s ease-in-out;
            opacity: var(--navigation-panel-opacity, 0);
          }
          #owc-core-navigation-panel-main-container{
            width:  var(--owc-core-navigation-panel-width, 100%);
            height: var(--owc-core-navigation-panel-height, 100%);
            position: relative;
          }

          #owc-core-navigation-panel{
            background-color: var(--owc-core-navigation-panel-width,  #fff);
            position: absolute;
            width: calc(100%-40px);
            height: 100%;
            border-radius: 2px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23);
          }

          #owc-core-navigation-panel-container{
              position: relative;
              top: 10px;
              width:calc(100% - 25px);
              height:calc(100% - 25px);
              overflow-y: auto;
              margin-left:10px;
          }



        </style>

        <div id="owc-core-navigation-panel-main-container" >
          <!-- <div style="position:absolute"> -->
            <div id="owc-core-navigation-panel">

              <!-- PANEL HEADER -->
              <div></div>
              <!-- PANEL CONTAINER -->
              <div id="owc-core-navigation-panel-container"></div>
              <!-- PANEL FOOTER -->
              <div></div>

            </div>
          <!-- </div> -->
        </div>

    </template>
    <script>

      class OwcCoreNavigationPanel extends Polymer.Element {
          static get is() { return "owc-core-navigation-panel"; }
          static get properties() {
              return {
                  title: { type: String, value: "" },
                  content: { type: Object, value: {} },
                  name: { type: String, value: "" }
              };
          }

          embedComponent(component){
            this.shadowRoot
              .querySelector("#owc-core-navigation-panel-container")
              .appendChild(component);
          }

          constructor(ctx){
            super();
            this._ctx = ctx;
          }

          connectedCallback(){
            super.connectedCallback();
            var self = this;
            setTimeout(function(){self.updateStyles({"--navigation-panel-opacity": 1});},0);
          }

          ready() {
            super.ready();

          }

          del(){
            console.warn("del");
            var self = this;
            this.updateStyles({"--navigation-panel-opacity": 0});
            setTimeout(function(){self.remove()},1000);
          }

      }

      window.customElements
        .define(OwcCoreNavigationPanel.is, OwcCoreNavigationPanel);

    </script>
</dom-module>
